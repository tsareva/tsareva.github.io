# Создаем бота обратной связь (для РИ)

Какие задачи может решать телеграм-бот обратной связи для мастерской группы?

- «Одно окно» для приема вопросов от заинтересованных будущих игроков — фактически, замена общей мастерской почты. Вопросы «а мне на заявку давно не отвечают, вот ссылка на нее» тоже могут уходить туда же.
- Вопросы «на мастерку» во время игры, чтобы, с одной стороны, не замыкать общение на одном мастерском аккаунте, с другой — избежать живых очередей к мастерам «мне только спросить».
- Прием заявок на какие-то модельные действия, которые опять-таки сможет решить любой мастер с соответствующим доступом, а не конкретный грустный человек, которого игрок запомнил как профильного и потому желает говорить конкретно с ним.
- Через бот может собираться какая-то информация с полигона — слухи, данные от техов, что угодно.

И сейчас я расскажу, как любому человеку настроить такого бота условно-бесплатным способом.

## Шаг 1: создаем самого бота

За создание ботов в Телеграме отвечает бот — папка всех ботов [BotFather](https://t.me/BotFather). Есть множество инструкций, как им пользоваться, но для простоты здесь же пробежимся по основным пунктам (тем более, что к BotFather потом придется возвращаться для настройки бота, а этот кусок инструкции нередко пропускают):
1. Через меню вызываем `/newbot`
2. BotFather просит дать боту имя — пусть это будет «Игра2025 (написать мастерам)». Оно не должно быть уникальным, но по соображениям удобства — должно быть понятным и опознаваемым вашими игроками.
3. Теперь нужно придумать имя пользователя боту. Оно уже должно быть уникальным и обязательно заканчиваться на «bot» (любого регистра — подойдет и SomeGame_bot, и SomeGameBot). Вот оно уже должно быть уникальным для Телеграм и будет формировать красивую ссылку на ваш бот.
4. После этого вы получите также всю нужную информацию о вашем боте. В красной рамочке — токен для API, он еще пригодится нам вскоре. 

![изображение](https://github.com/user-attachments/assets/4c271be9-43a9-42ca-9e41-495b5af5d79c)

5. Вызываем команду `/mybots` через меню, выбираем нужного бота из списка, потом — Bot Settings в меню. Нажимаем Allow Groups? и устанавливаем Turn groups on. Эта настройка потребуется в дальнейшем для добавления бота в общую для всех мастеров / других заинтересованных лиц группу. Убедитесь, что надпись по итогу именно такая:

> Groups are currently **enabled** for bot Игра2025 (написать мастерам) @test_larp_bot

Новому боту можно добавить аватарку и прочего оформления, тут ничего необычного нет. Пока новый бот мертв и ничего не может.

## Шаг 2: настраиваем обратную связь

Для придания боту жизни я использую [LivegramBot](https://t.me/LivegramBot). Можно им пользоваться условно-бесплатно, но тогда в каждом сообщении автоматически будет прекрепляться реклама и его копирайт (сообщение «Бот создан с помощью @LivegramBot»). Мне это не нравится, так что у меня оплачен Pro: 1600 рублей в год (по состоянию на 2024) стоят того, чтобы все подведомственные мне боты бастильских игр и joinrpg/kogda-igra не имели лишних деталей в оформлении.

У LivegramBot есть и [собственная справка](https://telegra.ph/Livegram-Help-04-04).

1. Через меню `/addbot` начинаем добавление — отправляем LivegramBot токен нашего нового бота. (Кстати, если вы уже потеряли свой API токен — найти его можно через все тот же BotFather: вызываем команду `/mybots` через меню, выбираем нужного бота из списка, потом — API token в меню. Отозвать токен, если вы его зачем-то дали злым или подозрительным людям, можно там же.)
2. В целом, вы уже можете переписываться с игроками от лица «технического аккаунта», не публикуя личные контакты, отвечая на приходящие в бот сообщения. Но этот аккаунт всё еще завязан на вас лично, а хочется, чтобы было общее для мастеров пространство «приема вопросов игроков».
3. Так что создаем чат в качестве такого пространства, добавляем туда нашего бота.
4. LivegramBot присылает сообщение о том, что бот успешно подключен в такому-то чату. Готово, вы великолепны! Можно добавить в эту группу еще мастеров, которые должны иметь возможность переписываться от «мастерского» лица с вопрошающими. 

Теперь все сообщения от пользователей, направленные боту, будут пересылаться в этот чат. Те сообщения в этом чате, который **отправлены как ответ на пересланное сообщение от бота**, уйдут пользователю «от лица бота» (так что если для вас это важно — подписывайтесь, кто отвечает). 

Что еще можно сделать через LivegramBot:
- настроить приветственное сообщение в боте через меню Тексты — например, мы пишем в своих игровых ботах такое:

> «_Привет, друг. Сюда можно написать любой вопрос мастерам. Однако не ждите мгновенной реакции — отвечать будет живой человек._»)

- провести рассылку по всем пользователям, которые добавили к себе бот;
- посмотреть статистику по использованию.

Есть еще ряд функций для использования LivegramBot как инструмента для маркетинга или технической поддержки — вам может быть интересно, скажем, автоматическое разделение на треды общения, если вы вдруг решили мастерить игру в телеграме. Но лично я советую не усложнять и использовать для этого [профильные инструменты](joinrpg.ru), а бот оставить для коротких вопросов от игроков и заинтересованных, которые во время оно ушли бы на мастерскую почту.

